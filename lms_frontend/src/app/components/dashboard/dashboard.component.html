<app-navbar>showNavBar</app-navbar>
<div class="container mt-4">
    <h2 class="text-center mb-4">All Books</h2>
    
   
    <div *ngIf="!books || books.length === 0" class="text-center">
      <p>Loading books...</p>
    </div>

    <div *ngIf="books && books.length > 0">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Book ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Status</th>
            <th>Quantity</th>
            <th>Issued To</th>
          </tr>
        </thead>
        <tbody class="table-body">
          <tr *ngFor="let book of books">
            <td>{{ book.id }}</td>
            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>{{ book.status }}</td>
            <td>{{ book.bookQuantity }}</td>
            <td>
              <div *ngIf="book.issuedTo && book.issuedTo.length > 0">
                <span *ngFor="let user of book.issuedTo">
                  {{ user.id }}. {{ user.name }} ({{ user.email }})<br>
                </span>
              </div>
              <p *ngIf="book.issuedTo && book.issuedTo.length === 0">Not issued</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
</div>
